---
title: Error Handling
description: How to handle errors from the Backblaze B2 APIs.
---

All Backblaze B2 APIs use standard HTTP status codes and return a consistent JSON error structure when a request fails.

## Error Response Format

When an API call fails, the response body contains a JSON object with three fields:

```json
{
  "status": 400,
  "code": "bad_request",
  "message": "The request had the wrong fields or illegal values."
}
```

| Field | Type | Description |
|---|---|---|
| `status` | integer | The numeric HTTP status code. Always matches the HTTP response status. |
| `code` | string | A machine-readable error identifier. |
| `message` | string | A human-readable message in English describing the problem. |

## HTTP Status Codes

### Success Codes

| Status | Meaning |
|---|---|
| `200 OK` | The request was successful. |
| `206 Partial Content` | Success when downloading using the `Range` header. |

### Client Error Codes

| Status | Meaning | Action |
|---|---|---|
| `400 Bad Request` | Invalid parameters or fields. | Fix the request and retry. |
| `401 Unauthorized` | Invalid or expired credentials. | See details below. |
| `403 Forbidden` | Transaction cap exceeded or access denied. | Check your account limits. |
| `404 Not Found` | The requested resource does not exist. | Verify the file/bucket ID. |
| `405 Method Not Allowed` | The HTTP method is not supported. | Use the correct method. |
| `408 Request Timeout` | The service timed out reading the request. | Retry the request. |
| `411 Length Required` | The `Content-Length` header is missing. | Add the header. |
| `415 Unsupported Media Type` | The `Content-Type` is not valid. | Fix the content type. |
| `416 Range Not Satisfiable` | The `Range` header cannot be satisfied. | Fix the range. |
| `429 Too Many Requests` | Rate limited. | Retry with exponential backoff. |

### Server Error Codes

| Status | Meaning | Action |
|---|---|---|
| `500 Internal Error` | Unexpected server error. | Retry the request. |
| `503 Service Unavailable` | Temporary service issue. | Retry with exponential backoff. |

## Handling 401 Unauthorized

The `401` status code behavior depends on the API call:

### When calling `b2_authorize_account`
The `applicationKeyId` or `applicationKey` is wrong:
- **`unauthorized`** — The application key is invalid.
- **`unsupported`** — The application key is only valid in a later API version.

### When calling `b2_upload_file` or `b2_upload_part`
This can mean various things. Call `b2_get_upload_url` or `b2_get_upload_part_url` again to get a new upload target and auth token.

### For all other API calls
- **`unauthorized`** — The auth token is valid but does not authorize this call.
- **`bad_auth_token`** — The auth token is not valid. Call `b2_authorize_account` again.
- **`expired_auth_token`** — The auth token has expired. Call `b2_authorize_account` again.

## Retry Strategy

For transient errors (`408`, `429`, `500`, `503`), implement exponential backoff:

```python
import time
import random

def retry_with_backoff(func, max_retries=5):
    for attempt in range(max_retries):
        try:
            return func()
        except TransientError:
            if attempt == max_retries - 1:
                raise
            delay = (2 ** attempt) + random.uniform(0, 1)
            time.sleep(delay)
```

For `503 Service Unavailable` errors, the service is temporarily unavailable and should recover shortly.

For upload errors (`401` on upload calls), obtain a new upload URL and token before retrying.
